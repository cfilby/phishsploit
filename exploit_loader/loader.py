#!/usr/bin/env python

"""
"""

import argparse
import configparser
import os
from DbUtil import DbUtil
from ExploitLoader import ExploitLoader


def main():
    current_dir = os.path.dirname(os.path.realpath(__file__))
    config_path = os.path.join(current_dir, "config.ini")
    
    config = configparser.ConfigParser()
    config.read(config_path)

    argparser = argparse.ArgumentParser(
        description="Tool for loading the exploit db into a specified database"
    )

    db_util = DbUtil(dict(config["DATABASE"]))
    loader = ExploitLoader(db_util)

    args = argparser.parse_args()

    loader.load_exploits(config["EXPLOIT"]["path"],
                         config["EXPLOIT"]["files_name"])

    print("Exploits loaded into %s." % (config["DATABASE"]["database"],))

if __name__ == "__main__":
    main()
